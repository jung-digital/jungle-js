function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,s,e){return s&&t(i.prototype,s),e&&t(i,e),i}}();!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Lib=i()}(this,function(){"use strict";var t=function(){function t(i){_classCallCheck(this,t),this.id=i.id||-1,this.pathRedraw=i.pathRedraw,this.sparkResolution=i.sparkResolution||20,this.options=i,this.paths=[],this.sparking=!1}return _createClass(t,[{key:"reset",value:function(){this.sparking=!1}},{key:"spark",value:function(t){if(!this.sparking){for(var i in t)this.options[i]=t[i];this.onFrameCallback=t.onFrameCallback,this.velocity=t.velocity,this.sparking=!0,this.position=this.options.position,this.points=this.options.position?[this.options.position]:void 0}}},{key:"next",value:function(t){if(t){this.points=this.points||[];for(var i=vec2.sub(vec2.create(),t,this.position),s=vec2.normalize(vec2.crbeate(),i),e=vec2.len(i),n=1;e>n;n+=1){var o=vec2.create(),a=vec2.add(o,vec2.scale(o,s,n),this.position);this.points.push(a)}for(this.points.push(t),this.position=t;this.points.length>this.sparkResolution;)this.points.shift()}}},{key:"onFrame",value:function(t,i){this.sparking&&(this.onFrameCallback&&this.onFrameCallback.call(this,t,i),this.updateTail(t,i))}},{key:"updateTail",value:function(t,i){if(this.points.length>1)for(var s=0,e=0;e<this.points.length-1;e++){var n=this.points[this.points.length-(e+1)],o=this.points[this.points.length-(e+2)];s+=vec2.len(vec2.sub(vec2.create(),o,n)),this.pathRedraw(this,n,o,s,e/(this.sparkResolution-1),t,i)}}}]),t}(),i=function e(){_classCallCheck(this,e),this.Spark=t},s=new i;return s});
//# sourceMappingURL=Lib.min.js.map